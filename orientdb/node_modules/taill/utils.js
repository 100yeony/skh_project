const path = require('path');

/**
 * Returns an absolute path if the path argument is relative. If the path is
 * already absolute, returns the path argument untouched.
 * 
 * @param {string} filepath - absolute or relative path to the logfile
 * @returns {string} an absolute path
 */
function getAbsolutePath(filepath) {
  if (!path.isAbsolute(filepath)) {
    return path.resolve(filepath);
  }

  return filepath;
}

/**
 * Return the filename (or last part) in the path. Automatically handle
 * relative and absolute paths.
 * 
 * @param {string} filepath - absolute or relative path to the logfile
 * @returns {string} the filename or last part of the path
 */
function getFilename(filepath) {
  const absolutePath = getAbsolutePath(filepath);

  return path.basename(absolutePath);
}

module.exports = { getAbsolutePath, getFilename };
